
if( WIN32 )
    set( CMAKE_C_FLAGS "${CMAKE_C_FLAGS} /Zc:wchar_t /Zc:forScope /arch:AVX /Wall /WX" )
    add_executable( atw_cpu_dsp atw_cpu_dsp.c )
else()
    set( CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=c99 -march=native -Wall -Wno-unused-function -Wno-unused-const-variable" )
    add_executable( atw_cpu_dsp atw_cpu_dsp.c )
    target_link_libraries( atw_cpu_dsp pthread m )
endif()

if( WIN32 )
    set( CMAKE_C_FLAGS "${CMAKE_C_FLAGS} /Zc:wchar_t /Zc:forScope /Wall /WX" )
    add_executable( atw_opengl WIN32 atw_opengl.c )
    target_link_libraries( atw_opengl opengl32 )
else()
    set( CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=c99 -Wall -Wno-unused-function -Wno-unused-const-variable" )
    add_executable( atw_opengl atw_opengl.c )
    target_link_libraries( atw_opengl pthread m GL ${XLIB_LIBRARIES} ${XCB_LIBRARIES} )
endif()

if( WIN32 )
    set( CMAKE_C_FLAGS "${CMAKE_C_FLAGS} /Zc:wchar_t /Zc:forScope /Wall /WX" )
    add_executable( atw_vulkan WIN32 atw_vulkan.c )
    target_link_libraries( atw_vulkan )
else()
    set( CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=c99 -Wall -Wno-unused-function -Wno-unused-const-variable" )
    add_executable( atw_vulkan atw_vulkan.c )
    target_link_libraries( atw_vulkan pthread m dl ${XLIB_LIBRARIES} ${XCB_LIBRARIES} )
endif()
